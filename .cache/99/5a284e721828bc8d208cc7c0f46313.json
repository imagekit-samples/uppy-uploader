{"id":"IBBm","dependencies":[{"name":"/Users/manuchaudhary/uppy-uploader/package.json","includedInParent":true,"mtime":1595074373392},{"name":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/dashboard/package.json","includedInParent":true,"mtime":1594921791406},{"name":"lodash.debounce","loc":{"line":1,"column":23},"parent":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","resolved":"/Users/manuchaudhary/uppy-uploader/node_modules/lodash.debounce/index.js"},{"name":"@uppy/utils/lib/FOCUSABLE_ELEMENTS","loc":{"line":3,"column":33},"parent":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","resolved":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js"},{"name":"./getActiveOverlayEl","loc":{"line":5,"column":33},"parent":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","resolved":"/Users/manuchaudhary/uppy-uploader/node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js"}],"generated":{"js":"var e=require(\"lodash.debounce\"),r=require(\"@uppy/utils/lib/FOCUSABLE_ELEMENTS\"),u=require(\"./getActiveOverlayEl\");module.exports=function(){var t=!1;return e(function(e,l){var o=u(e,l),c=o.contains(document.activeElement);if(!c||!t){var i=o.querySelector(\"[data-uppy-super-focusable]\");if(!c||i)if(i)i.focus({preventScroll:!0}),t=!0;else{var a=o.querySelector(r);a&&a.focus({preventScroll:!0}),t=!1}}},260)};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":1,"column":0},"generated":{"line":1,"column":4}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":1,"column":0},"generated":{"line":1,"column":14}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":3,"column":0},"generated":{"line":1,"column":33}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":3,"column":0},"generated":{"line":1,"column":35}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":3,"column":0},"generated":{"line":1,"column":43}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":5,"column":0},"generated":{"line":1,"column":81}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":5,"column":0},"generated":{"line":1,"column":83}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":5,"column":0},"generated":{"line":1,"column":91}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":14,"column":0},"generated":{"line":1,"column":115}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":14,"column":0},"generated":{"line":1,"column":122}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":14,"column":0},"generated":{"line":1,"column":130}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":15,"column":0},"generated":{"line":1,"column":141}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":15,"column":0},"generated":{"line":1,"column":145}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":15,"column":0},"generated":{"line":1,"column":148}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":47,"column":0},"generated":{"line":1,"column":150}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":47,"column":0},"generated":{"line":1,"column":157}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":17,"column":0},"generated":{"line":1,"column":159}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":17,"column":0},"generated":{"line":1,"column":168}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":17,"column":0},"generated":{"line":1,"column":170}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":18,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":18,"column":0},"generated":{"line":1,"column":177}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":18,"column":0},"generated":{"line":1,"column":179}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":18,"column":0},"generated":{"line":1,"column":181}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":18,"column":0},"generated":{"line":1,"column":183}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":19,"column":0},"generated":{"line":1,"column":186}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":19,"column":0},"generated":{"line":1,"column":188}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":19,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":19,"column":0},"generated":{"line":1,"column":199}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":19,"column":0},"generated":{"line":1,"column":208}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":22,"column":0},"generated":{"line":1,"column":223}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":22,"column":0},"generated":{"line":1,"column":227}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":22,"column":0},"generated":{"line":1,"column":231}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":22,"column":0},"generated":{"line":1,"column":233}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":23,"column":0},"generated":{"line":1,"column":234}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":23,"column":0},"generated":{"line":1,"column":238}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":23,"column":0},"generated":{"line":1,"column":240}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":23,"column":0},"generated":{"line":1,"column":242}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":23,"column":0},"generated":{"line":1,"column":256}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":26,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":26,"column":0},"generated":{"line":1,"column":291}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":26,"column":0},"generated":{"line":1,"column":294}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":28,"column":0},"generated":{"line":1,"column":296}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":28,"column":0},"generated":{"line":1,"column":299}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":29,"column":0},"generated":{"line":1,"column":301}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":29,"column":0},"generated":{"line":1,"column":303}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":29,"column":0},"generated":{"line":1,"column":309}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":30,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":30,"column":0},"generated":{"line":1,"column":325}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":32,"column":0},"generated":{"line":1,"column":329}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":32,"column":0},"generated":{"line":1,"column":332}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":33,"column":0},"generated":{"line":1,"column":338}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":34,"column":0},"generated":{"line":1,"column":339}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":34,"column":0},"generated":{"line":1,"column":343}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":34,"column":0},"generated":{"line":1,"column":345}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":34,"column":0},"generated":{"line":1,"column":347}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":34,"column":0},"generated":{"line":1,"column":361}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":35,"column":0},"generated":{"line":1,"column":364}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":35,"column":0},"generated":{"line":1,"column":367}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":35,"column":0},"generated":{"line":1,"column":369}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":35,"column":0},"generated":{"line":1,"column":375}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":36,"column":0},"generated":{"line":1,"column":376}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":36,"column":0},"generated":{"line":1,"column":391}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":38,"column":0},"generated":{"line":1,"column":395}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":38,"column":0},"generated":{"line":1,"column":398}},{"source":"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","original":{"line":47,"column":0},"generated":{"line":1,"column":403}}],"sources":{"../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js":"var debounce = require('lodash.debounce');\n\nvar FOCUSABLE_ELEMENTS = require('@uppy/utils/lib/FOCUSABLE_ELEMENTS');\n\nvar getActiveOverlayEl = require('./getActiveOverlayEl');\n/*\n  Focuses on some element in the currently topmost overlay.\n\n  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses on the first superfocusable element, and leaves focus up to the control of a user (until currently focused element disappears from the screen [which can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).\n  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses on the first focusable element, but switches focus if superfocusable elements appear on next render.\n*/\n\n\nmodule.exports = function createSuperFocus() {\n  var lastFocusWasOnSuperFocusableEl = false;\n\n  var superFocus = function superFocus(dashboardEl, activeOverlayType) {\n    var overlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n    var isFocusInOverlay = overlayEl.contains(document.activeElement); // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable element - then leave focus up to the user.\n    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.\n\n    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;\n    var superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]'); // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.\n    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the bg, - focus will be jumping to Done all the time.\n\n    if (isFocusInOverlay && !superFocusableEl) return;\n\n    if (superFocusableEl) {\n      superFocusableEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = true;\n    } else {\n      var firstEl = overlayEl.querySelector(FOCUSABLE_ELEMENTS);\n      firstEl && firstEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = false;\n    }\n  }; // ___Why do we need to debounce?\n  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update() already executed.\n  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.\n  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.\n  //    2. Performance: there can be many state update()s in a second, and this function is called every time.\n\n\n  return debounce(superFocus, 260);\n};"},"lineCount":null}},"error":null,"hash":"3267d468ebfad2532c83a68ff995ff30","cacheData":{"env":{}}}